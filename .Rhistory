total_nas <- sum(is.na(new_df))
total_nas <- sum(is.na(new_data_frame))
cat("Total number of NAs in the new data frame:", total_nas, "\n")
# Load required libraries
library(tidyverse)
# Load required libraries
install.packages("tidyverse")
library(tidyverse)
library(rvest)
library(stringr)
# Define the URLs
urls <- c(
"https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250",
"https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
)
# Function to scrape data from IMDb
scrape_imdb_data <- function(url) {
# Read HTML content from the URL
page <- read_html(url)
# Extract data using CSS selectors
titles <- page |> html_nodes('.ipc-title__text') |> html_text() |> tail(head(., -1), -1)
years <- page |> html_nodes('.ipc-metadata-list-item__list-content-item') |> html_text() |> str_extract("\\d{4}")
durations <- page |> html_nodes('.ipc-metadata-list-item__list-content-item-child') |> html_text() |> str_replace_all("\\D", "")
ratings <- page |> html_nodes('.ipc-rating-star-small__star') |> html_text() |> as.numeric()
votes <- page |> html_nodes('.ipc-button__text') |> html_text() |> str_extract("\\d+")
# Convert durations to numeric values (total minutes)
durations <- str_split(durations, " ") |> lapply(function(x) sum(as.numeric(x) * c(60, 1))) |> unlist()
# Create a data frame
data_frame <- data.frame(
Title = titles,
Year = as.numeric(years),
Duration = durations,
Rating = ratings,
Votes = as.numeric(votes)
)
return(data_frame)
}
# Loop through the URLs and scrape data
result_df <- purrr::map_dfr(urls, scrape_imdb_data)
library(rvest)
library(tidyverse)
ımdb_2010and2023 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
library(rvest)
library(tidyverse)
ımdb_2010and2023 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&sort=moviemeter,asc&num_votes=2500,&country_of_origin=TR&count=250"
library(rvest)
library(tidyverse)
ımdb_2010and2023 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
library(rvest)
library(tidyverse)
ımdb_after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
library(rvest)
library(tidyverse)
ımdb_after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_name_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_name_a)
title_names_a <- tail(head(title_name_a,-1),-1)
title_names_a <- str_split(title_name_a, " ", n=2)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
Title_of_movies=c(title_names_a,movies_names_b)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
Title_of_movies=c(title_names_a,title_names_b)
Rating_of_movies=c(movies_rating_a,movies_rating_b)
Year_of_movies=c(movies_year_a,movies_year_b)
Duration_of_movies=c(movies_duration_a,movies_duration_b)
Votes_of_movies=c(movies_votes,movies_votes_b)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
Title_of_movies=c(title_names_a,title_names_b)
Rating_of_movies=c(movies_rating_a,movies_rating_b)
Year_of_movies=c(movies_year_a,movies_year_b)
Duration_of_movies=c(movies_duration_a,movies_duration_b)
Votes_of_movies=c(movies_votes_a,movies_votes_b)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
Title_of_movies=c(title_names_a,title_names_b)
Rating_of_movies=c(movies_rating_a,movies_rating_b)
Year_of_movies=c(movies_year_a,movies_year_b)
Duration_of_movies=c(movies_duration_a,movies_duration_b)
Votes_of_movies=c(movies_vote_a,movies_vote_b)
Movies=data.frame(Title_of_movies,Year_of_movies,Duration_of_movies,Rating_of_movies,Votes_of_movies)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
df_after_2010 <- data.frame(
Title = title_names_a,
Year = movies_year_a,
Duration = movies_duration_a,
Rating = movies_rating_a,
Votes = movies_vote_a
)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
df_after_2010 <- data.frame(
Title = title_names_a,
Year = movies_year_a,
Duration = movies_duration_a,
Rating = movies_rating_a,
Votes = movies_vote_a
)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
df_after_2010 <- as.data.frame(
Title = title_names_a,
Year = movies_year_a,
Duration = movies_duration_a,
Rating = movies_rating_a,
Votes = movies_vote_a
)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
df_after_2010 <- data.frame(
Title = title_names_a,
Year = movies_year_a,
Duration = movies_duration_a,
Rating = movies_rating_a,
Votes = movies_vote_a
)
library(rvest)
library(tidyverse)
after_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
before_2010 <- "https://m.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
movies_after_2010 <- read_html(after_2010)
movies_before_2010 <- read_html(before_2010)
title_names_a <- movies_after_2010 |> html_nodes('.ipc-title__text')
title_names_a <- html_text(title_names_a)
title_names_a <- tail(head(title_names_a,-1),-1)
title_names_a <- str_split(title_names_a, " ", n=2)
title_names_a <- unlist(lapply(title_name_a, function(x) {x[2]}))
movies_year_a <-movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_a <- html_text(movies_year_a)
movies_year_a <- as.numeric(movies_year_a)
movies_duration_a <- movies_after_2010|> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_a <- html_text(movies_duration_a)
movies_duration_a <- sapply(str_extract_all(movies_duration_a, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_a <- movies_after_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_a <- html_text(movies_rating_a)
movies_rating_a <- as.numeric(substr(movies_rating_a,1,3))
movies_vote_a <- movies_after_2010|> html_nodes('.kRnqtn')
movies_vote_a <- html_text(movies_vote_a)
movies_vote_a <- parse_number(movies_vote_a)
title_names_b <- movies_before_2010 |> html_nodes('.ipc-title__text')
title_names_b <- html_text(title_names_b)
title_names_b <- tail(head(title_names_b,-1),-1)
title_names_b <- str_split(title_names_b, " ", n=2)
title_names_b <- unlist(lapply(title_names_b, function(x) {x[2]}))
movies_year_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(1)')
movies_year_b <- html_text(movies_year_b)
movies_year_b <- as.numeric(movies_year_b)
movies_duration_b <- movies_before_2010 |> html_nodes('.dli-title-metadata-item:nth-child(2)')
movies_duration_b <- html_text(movies_duration_b)
movies_duration_b <- sapply(str_extract_all(movies_duration_b, "\\d+"), function(x) {
x1 <- as.numeric(x)
if(length(x1)>1) x1[1]*60 + x1[2] else x1 })
movies_rating_b <- movies_before_2010 |> html_nodes('.ratingGroup--imdb-rating')
movies_rating_b <- html_text(movies_rating_b)
movies_rating_b <- as.numeric(substr(movies_rating_b,1,3))
movies_vote_b <- movies_before_2010 |> html_nodes('.kRnqtn')
movies_vote_b <- html_text(movies_vote_b)
movies_vote_b <- parse_number(movies_vote_b)
df_after_2010 <- data.frame(
Title = title_names_a,
Year = movies_year_a,
Duration = movies_duration_a,
Rating = movies_rating_a,
Votes = movies_vote_a
)
